<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 700" width="720" height="700">
  <defs>
    <style>
      text, tspan { font-family: 'JetBrains Mono', 'SF Mono', 'Fira Code', 'Cascadia Code', monospace; }
    </style>
    <linearGradient id="bg-grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f0f23"/>
      <stop offset="100%" style="stop-color:#1a1a2e"/>
    </linearGradient>
    <linearGradient id="local-grad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2d1b69;stop-opacity:0.95"/>
      <stop offset="100%" style="stop-color:#1e1145;stop-opacity:0.95"/>
    </linearGradient>
    <linearGradient id="repo-grad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0c2d48;stop-opacity:0.95"/>
      <stop offset="100%" style="stop-color:#071e33;stop-opacity:0.95"/>
    </linearGradient>
    <marker id="arrow-purple" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#7c3aed"/>
    </marker>
    <marker id="arrow-red" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#ef4444"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="720" height="700" rx="16" fill="url(#bg-grad)"/>

  <!-- Title -->
  <text x="360" y="48" text-anchor="middle" fill="#e0e0e0" font-size="19" font-weight="700">How layer works</text>

  <!-- LOCAL LAYER (box.y=72, h=150, offsets: +28, +48, +78, +126) -->
  <rect x="50" y="72" width="620" height="150" rx="12" fill="url(#local-grad)" stroke="#7c3aed" stroke-width="2"/>

  <text x="72" y="100" fill="#c4b5fd" font-size="15" font-weight="700">Local Layer</text>
  <text x="72" y="120" fill="#a78bfa" font-size="10.5">Personal context Â· invisible to git</text>

  <g>
    <rect x="72" y="150" width="108" height="32" rx="7" fill="#4c1d95" stroke="#8b5cf6" stroke-width="1.5"/>
    <text x="126" y="170" text-anchor="middle" fill="#e9d5ff" font-size="11">CLAUDE.md</text>
  </g>
  <g>
    <rect x="190" y="150" width="118" height="32" rx="7" fill="#4c1d95" stroke="#8b5cf6" stroke-width="1.5"/>
    <text x="249" y="170" text-anchor="middle" fill="#e9d5ff" font-size="11">.cursorrules</text>
  </g>
  <g>
    <rect x="318" y="150" width="118" height="32" rx="7" fill="#4c1d95" stroke="#8b5cf6" stroke-width="1.5"/>
    <text x="377" y="170" text-anchor="middle" fill="#e9d5ff" font-size="11">API_DOC.md</text>
  </g>
  <g>
    <rect x="446" y="150" width="195" height="32" rx="7" fill="#4c1d95" stroke="#8b5cf6" stroke-width="1.5"/>
    <text x="543" y="170" text-anchor="middle" fill="#e9d5ff" font-size="10">CUSTOM_INSTRUCTION.md</text>
  </g>

  <text x="643" y="208" text-anchor="end" fill="#a78bfa" font-size="10.5">ðŸ‘» Invisible to git</text>

  <!-- ARROW: Local â†’ Mechanism -->
  <line x1="360" y1="222" x2="360" y2="260" stroke="#7c3aed" stroke-width="2" marker-end="url(#arrow-purple)"/>

  <!-- MECHANISM BOX -->
  <rect x="115" y="269" width="490" height="148" rx="10" fill="#1e1e3a" stroke="#4a4a6a" stroke-width="1.5"/>

  <rect x="268" y="257" width="184" height="26" rx="13" fill="#1e1e3a" stroke="#7c3aed" stroke-width="1.5"/>
  <text x="360" y="274" text-anchor="middle" fill="#c4b5fd" font-size="11" font-weight="700">âš¡ layer CLI</text>

  <text x="360" y="300" text-anchor="middle" fill="#94a3b8" font-size="10.5">Writes patterns to the local exclude file</text>

  <rect x="195" y="310" width="330" height="28" rx="6" fill="#0f0f23" stroke="#fbbf24" stroke-width="1" opacity="0.8"/>
  <text x="360" y="329" text-anchor="middle" fill="#fbbf24" font-size="11.5">.git/info/exclude</text>

  <text x="360" y="353" text-anchor="middle" fill="#64748b" font-size="9.5">Local to this clone Â· never committed Â· never shared</text>

  <g>
    <rect x="133" y="370" width="100" height="24" rx="5" fill="#0f0f23" stroke="#4a4a6a" stroke-width="1"/>
    <text x="183" y="386" text-anchor="middle" fill="#a3e635" font-size="9.5">layer scan</text>
  </g>
  <g>
    <rect x="243" y="370" width="90" height="24" rx="5" fill="#0f0f23" stroke="#4a4a6a" stroke-width="1"/>
    <text x="288" y="386" text-anchor="middle" fill="#a3e635" font-size="9.5">layer add</text>
  </g>
  <g>
    <rect x="343" y="370" width="108" height="24" rx="5" fill="#0f0f23" stroke="#4a4a6a" stroke-width="1"/>
    <text x="397" y="386" text-anchor="middle" fill="#a3e635" font-size="9.5">layer status</text>
  </g>
  <g>
    <rect x="461" y="370" width="126" height="24" rx="5" fill="#0f0f23" stroke="#4a4a6a" stroke-width="1"/>
    <text x="524" y="386" text-anchor="middle" fill="#a3e635" font-size="9.5">layer backup</text>
  </g>

  <!-- ARROW: Mechanism â†’ Repo -->
  <line x1="360" y1="417" x2="360" y2="518" stroke="#ef4444" stroke-width="2" stroke-opacity="0.7" marker-end="url(#arrow-red)"/>

  <rect x="322" y="454" width="76" height="24" rx="12" fill="#2a1015" stroke="#ef4444" stroke-width="1.5"/>
  <text x="360" y="470" text-anchor="middle" fill="#ef4444" font-size="10.5" font-weight="600">â›” hide</text>

  <!-- REPO LAYER (box.y=526, h=150, same offsets: +28, +48, +78, +126) -->
  <rect x="50" y="526" width="620" height="150" rx="12" fill="url(#repo-grad)" stroke="#0ea5e9" stroke-width="2"/>

  <text x="72" y="554" fill="#7dd3fc" font-size="15" font-weight="700">Repo Layer</text>
  <text x="72" y="574" fill="#38bdf8" font-size="10.5">Tracked files Â· shared with team via git</text>

  <g>
    <rect x="72" y="604" width="68" height="32" rx="7" fill="#0c4a6e" stroke="#0284c7" stroke-width="1.5"/>
    <text x="106" y="624" text-anchor="middle" fill="#bae6fd" font-size="11">src/</text>
  </g>
  <g>
    <rect x="150" y="604" width="108" height="32" rx="7" fill="#0c4a6e" stroke="#0284c7" stroke-width="1.5"/>
    <text x="204" y="624" text-anchor="middle" fill="#bae6fd" font-size="11">Cargo.toml</text>
  </g>
  <g>
    <rect x="268" y="604" width="105" height="32" rx="7" fill="#0c4a6e" stroke="#0284c7" stroke-width="1.5"/>
    <text x="320" y="624" text-anchor="middle" fill="#bae6fd" font-size="11">README.md</text>
  </g>
  <g>
    <rect x="383" y="604" width="105" height="32" rx="7" fill="#0c4a6e" stroke="#0284c7" stroke-width="1.5"/>
    <text x="435" y="624" text-anchor="middle" fill="#bae6fd" font-size="11">.gitignore</text>
  </g>
  <g>
    <rect x="498" y="604" width="105" height="32" rx="7" fill="#0c4a6e" stroke="#0284c7" stroke-width="1.5"/>
    <text x="550" y="624" text-anchor="middle" fill="#bae6fd" font-size="11">tests/</text>
  </g>

  <text x="643" y="662" text-anchor="end" fill="#38bdf8" font-size="10.5">âœ“ Tracked by git</text>

  <!-- Footer -->
  <text x="360" y="692" text-anchor="middle" fill="#64748b" font-size="10">Your working directory = both layers combined on disk</text>
</svg>
